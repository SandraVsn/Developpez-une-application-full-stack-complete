<app-header></app-header>
@if(onError){
<span>An error occurred</span>
} @else if (!loaded) {
<span>Loading, please wait</span>
} @else {
<div class="flex flex-col items-center">
  <a class="m-5" mat-icon-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </a>
  <p class="p-3 text-2xl font-semibold">{{ post.title }}</p>
  <p>{{ post.updatedAt }}</p>
  <p>{{ post.userName }}</p>
  <p>{{ post.topicName }}</p>
  <p>{{ post.content }}</p>
  <div class="relative w-full">
    <div class="absolute inset-0 flex items-center" aria-hidden="true">
      <div class="w-full mx-5 border-t border-gray-300"></div>
    </div>
    <div class="relative flex justify-center">
      <span class="bg-white p-3 text-2xl font-semibold leading-6">
        Commentaires
      </span>
    </div>
  </div>
  @if(comments.length === 0){
  <p>Soyez le premier Ã  donner votre avis !</p>
  }@else {
  <p>Liste des commentaires</p>
  }
  <form class="comment__form" [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field appearance="outline">
      <textarea
        matNativeControl
        formControlName="description"
        class="comment__input"
        placeholder="Ecrivez ici votre commentaire"
      ></textarea>
    </mat-form-field>
    <button type="submit" class="submit">
      <svg
        class="icon"
        width="49"
        height="49"
        viewBox="0 0 49 49"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M45.9999 3L22.3499 26.65"
          stroke="#7763C5"
          stroke-width="5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M46 3L30.95 46L22.35 26.65L3 18.05L46 3Z"
          stroke="#7763C5"
          stroke-width="5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </button>
  </form>
</div>
}
